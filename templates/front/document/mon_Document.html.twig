{% extends "front/base.html.twig" %}

{% block body %}
    {% include "front/Header.html.twig" %}
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/html2canvas@0.4.1/dist/html2canvas.min.js"></script>


</head>

    <div class="container-fluid py-5 wow fadeInUp" data-wow-delay="0.1s" style="visibility: visible; animation-delay: 0.1s; animation-name: fadeInUp;">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-7">
                    <div class="section-title position-relative pb-3 mb-5">
                        <h5 class="fw-bold text-primary text-uppercase">Document</h5>


                        {% if demande.type|lower == 'budget municipal' %}

                        <h1 class="mb-0">Budget municipal</h1>
                    </div>
                    <p class="mb-4">Le budget municipal est un document financier détaillant les recettes et les dépenses prévues par une municipalité pour une période donnée, généralement pour une année fiscale.</p>
                    <div class="row g-0 mb-3">
                        <div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s" style="visibility: visible; animation-delay: 0.2s; animation-name: zoomIn;">
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Transparence </h5>
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Planification financière</h5>
                        </div>
                        <div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s" style="visibility: visible; animation-delay: 0.4s; animation-name: zoomIn;">
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Participation citoyenne </h5>
                            <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Gestion efficace</h5>
                        </div>
                    </div>
                        {% elseif demande.type|lower == 'budget municipal' %}

                    <h1 class="mb-0">Plan d'urbanisme</h1>
                </div>
                <p class="mb-4"> Le plan d'urbanisme est un document qui définit les politiques, les objectifs et les règlements concernant l'aménagement du territoire dans une municipalité, y compris l'utilisation des sols, le zonage, les infrastructures et le développement économique</p>
                <div class="row g-0 mb-3">
                    <div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s" style="visibility: visible; animation-delay: 0.2s; animation-name: zoomIn;">
                        <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Gestion de la croissance </h5>
                        <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Préservation de l'environnement</h5>
                    </div>
                    <div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s" style="visibility: visible; animation-delay: 0.4s; animation-name: zoomIn;">
                        <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Stabilité et prévisibilité</h5>
                        <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Qualité de vie</h5>
                    </div>
                </div>

                        {% elseif demande.type|lower == 'procès-verbal' %}

                <h1 class="mb-0">Procès-verbal</h1>
            </div>
            <p class="mb-4"> Le procès-verbal de réunion du conseil municipal est un compte rendu officiel des délibérations et des décisions prises lors des réunions du conseil municipal.</p>
            <div class="row g-0 mb-3">
                <div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s" style="visibility: visible; animation-delay: 0.2s; animation-name: zoomIn;">
                    <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Transparence et responsabilité</h5>
                    <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Historique officiel</h5>
                </div>
                <div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s" style="visibility: visible; animation-delay: 0.4s; animation-name: zoomIn;">
                    <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Communication interne</h5>
                    <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Référence pour les décisions futures</h5>
                </div>
            </div>

            {% else %}
            <h1 class="mb-0">Document X</h1>
        </div>
        <p class="mb-4">Tempor erat elitr rebum at clita. Diam dolor diam ipsum et tempor sit. Aliqu diam amet diam et eos labore. Clita erat ipsum et lorem et sit, sed stet no labore lorem sit. Sanctus clita duo justo et tempor eirmod magna dolore erat amet</p>
        <div class="row g-0 mb-3">
            <div class="col-sm-6 wow zoomIn" data-wow-delay="0.2s" style="visibility: visible; animation-delay: 0.2s; animation-name: zoomIn;">
                <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Transparence et responsabilité</h5>
                <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Participation citoyenne</h5>
            </div>
            <div class="col-sm-6 wow zoomIn" data-wow-delay="0.4s" style="visibility: visible; animation-delay: 0.4s; animation-name: zoomIn;">
                <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Gestion efficace</h5>
                <h5 class="mb-3"><i class="fa fa-check text-primary me-3"></i>Stabilité et prévisibilité</h5>
            </div>
        </div>
            {% endif %}

                    <a onclick="GeneratePDFWithQRCode()" class="btn btn-primary py-3 px-5 mt-3 wow zoomIn" data-wow-delay="0.9s" style="visibility: visible; animation-delay: 0.9s; animation-name: zoomIn;">Version Pdf</a>
                    <a href="" class="btn btn-primary py-3 px-5 mt-3 wow zoomIn" data-wow-delay="0.9s" style="visibility: visible; animation-delay: 0.9s; animation-name: zoomIn;">XXXXX</a>
                </div>
                <div class="col-lg-5" style="min-height: 500px;">
                    <div class="position-relative h-100">
                        <img class="position-absolute w-100 h-100 rounded wow zoomIn" data-wow-delay="0.9s" src="{{ asset('front/img/doc.jpg') }}" style="object-fit: cover; visibility: visible; animation-delay: 0.9s; animation-name: zoomIn;">
                    </div>
                </div>

    <div id="qrcode" style="display: none"></div>



            </div>
        </div>



    </div>


    <script>
        function GeneratePDFWithQRCode() {
            const { jsPDF } = jspdf;
            const doc = new jsPDF();

            // Generate QR code
            const qrCodeData = "acceptee"; // Change the URL as needed
            const qrCode = new QRCode(document.getElementById("qrcode"), {
                text: qrCodeData,
                width: 100,
                height: 100,
            });

            // Get QR code as image data
            const imageData = qrCode._el.firstChild.toDataURL("image/png");

            // Add header
            doc.setFontSize(20);
            doc.text("PDF Header", 10, 20);

            // Add paragraph
            doc.setFontSize(12);
            doc.text("This is a sample paragraph in the PDF document.", 10, 30);

            // Add QR code image to PDF
            doc.addImage(imageData, "PNG", 10, 50);

            // Save PDF
            doc.save("Document-PDF.pdf");
        }
    </script>






{% endblock %}
